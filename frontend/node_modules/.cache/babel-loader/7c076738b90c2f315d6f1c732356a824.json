{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/src/components/landingPageComponents/mostPopularDishesSection/MostPopularDishesSection.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from 'react';\nimport './mostPopularDishesSection.scss';\nimport ReactStars from 'react-rating-stars-component';\nimport { MyContext } from '../../../App.js';\nimport { useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function MostPopularDishesSection() {\n  _s();\n\n  const {\n    cart,\n    token,\n    isLoggedIn,\n    setCart\n  } = useContext(MyContext);\n  const navigate = useNavigate();\n  const [featuredMeals, setFeaturedMeals] = useState([]);\n  useEffect(() => {\n    selectMeals();\n  }, []);\n\n  const selectMeals = async () => {\n    const settings = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    };\n    const response = await fetch(process.env.REACT_APP_SERVER_URL + '/landingPage/meals/featured', settings);\n    const parsedRes = await response.json();\n\n    try {\n      if (response.ok) {\n        setFeaturedMeals(parsedRes.featured);\n      } else {\n        throw new Error(parsedRes.message);\n      }\n    } catch (err) {\n      alert(err.message);\n    }\n  };\n\n  const addToCart = meal => {\n    let item = cart.find(elem => elem._id === meal._id);\n\n    if (!isLoggedIn) {\n      alert('Please login');\n      navigate('/login');\n    } else {\n      if (item) {\n        item.quantity += 1;\n        setCart([...cart]);\n      } else {\n        if (cart.length + 1 > 3) {\n          alert('Reached Maximum Quantity of Meals');\n          return;\n        }\n\n        setCart([...cart, { ...meal,\n          quantity: 1\n        }]);\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mostPopularDishesSection\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \" Try our most popular dishes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cardsContainer\",\n      children: featuredMeals.map(meal => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card card1\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [' ', /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"cardImg\",\n              src: meal.img,\n              width: \"300\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: meal.mealName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: meal.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"\\u20AC \", meal.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ReactStars, {\n            count: 5,\n            value: meal.rating,\n            size: 24,\n            isHalf: true,\n            activeColor: \"yellow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => addToCart(meal),\n              children: \"Add To Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)]\n        }, meal._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MostPopularDishesSection, \"McPCnp5k+QErBJDqr2K4ett0Ui4=\", false, function () {\n  return [useNavigate];\n});\n\n_c = MostPopularDishesSection;\n\nvar _c;\n\n$RefreshReg$(_c, \"MostPopularDishesSection\");","map":{"version":3,"names":["React","useContext","useEffect","ReactStars","MyContext","useNavigate","useState","MostPopularDishesSection","cart","token","isLoggedIn","setCart","navigate","featuredMeals","setFeaturedMeals","selectMeals","settings","method","headers","Authorization","response","fetch","process","env","REACT_APP_SERVER_URL","parsedRes","json","ok","featured","Error","message","err","alert","addToCart","meal","item","find","elem","_id","quantity","length","map","img","mealName","description","price","rating"],"sources":["/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/src/components/landingPageComponents/mostPopularDishesSection/MostPopularDishesSection.jsx"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport './mostPopularDishesSection.scss';\nimport ReactStars from 'react-rating-stars-component';\nimport { MyContext } from '../../../App.js';\nimport { useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\n\nexport default function MostPopularDishesSection() {\n  const { cart, token, isLoggedIn, setCart } = useContext(MyContext);\n  const navigate = useNavigate();\n  const [featuredMeals, setFeaturedMeals] = useState([]);\n  useEffect(() => {\n    selectMeals();\n  }, []);\n  const selectMeals = async () => {\n    const settings = {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token,\n      },\n    };\n\n    const response = await fetch(\n      process.env.REACT_APP_SERVER_URL + '/landingPage/meals/featured',\n      settings\n    );\n    const parsedRes = await response.json();\n    try {\n      if (response.ok) {\n        setFeaturedMeals(parsedRes.featured);\n      } else {\n        throw new Error(parsedRes.message);\n      }\n    } catch (err) {\n      alert(err.message);\n    }\n  };\n\n  const addToCart = (meal) => {\n    let item = cart.find((elem) => elem._id === meal._id);\n\n    if (!isLoggedIn) {\n      alert('Please login');\n      navigate('/login');\n    } else {\n      if (item) {\n        item.quantity += 1;\n        setCart([...cart]);\n      } else {\n        if (cart.length + 1 > 3) {\n          alert('Reached Maximum Quantity of Meals');\n          return;\n        }\n        setCart([...cart, { ...meal, quantity: 1 }]);\n      }\n    }\n  };\n\n  return (\n    <div className=\"mostPopularDishesSection\">\n      <h2> Try our most popular dishes</h2>\n\n      <div className=\"cardsContainer\">\n        {featuredMeals.map((meal) => {\n          return (\n            <div key={meal._id} className=\"card card1\">\n              <div >\n                {' '}\n                <img className=\"cardImg\"src={meal.img} width=\"300\" alt=\"\" />\n              </div>\n              <h3>{meal.mealName}</h3>\n              <p>{meal.description}</p>\n              <h3>\n                <strong>â‚¬ {meal.price}</strong>\n              </h3>\n              <ReactStars\n                count={5}\n                value={meal.rating}\n                size={24}\n                isHalf={true}\n                activeColor=\"yellow\"\n              />\n              <div>\n                <button onClick={() => addToCart(meal)}>Add To Cart</button>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,OAAO,iCAAP;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAEA,eAAe,SAASC,wBAAT,GAAoC;EAAA;;EACjD,MAAM;IAAEC,IAAF;IAAQC,KAAR;IAAeC,UAAf;IAA2BC;EAA3B,IAAuCV,UAAU,CAACG,SAAD,CAAvD;EACA,MAAMQ,QAAQ,GAAGP,WAAW,EAA5B;EACA,MAAM,CAACQ,aAAD,EAAgBC,gBAAhB,IAAoCR,QAAQ,CAAC,EAAD,CAAlD;EACAJ,SAAS,CAAC,MAAM;IACda,WAAW;EACZ,CAFQ,EAEN,EAFM,CAAT;;EAGA,MAAMA,WAAW,GAAG,YAAY;IAC9B,MAAMC,QAAQ,GAAG;MACfC,MAAM,EAAE,KADO;MAEfC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEPC,aAAa,EAAE,YAAYV;MAFpB;IAFM,CAAjB;IAQA,MAAMW,QAAQ,GAAG,MAAMC,KAAK,CAC1BC,OAAO,CAACC,GAAR,CAAYC,oBAAZ,GAAmC,6BADT,EAE1BR,QAF0B,CAA5B;IAIA,MAAMS,SAAS,GAAG,MAAML,QAAQ,CAACM,IAAT,EAAxB;;IACA,IAAI;MACF,IAAIN,QAAQ,CAACO,EAAb,EAAiB;QACfb,gBAAgB,CAACW,SAAS,CAACG,QAAX,CAAhB;MACD,CAFD,MAEO;QACL,MAAM,IAAIC,KAAJ,CAAUJ,SAAS,CAACK,OAApB,CAAN;MACD;IACF,CAND,CAME,OAAOC,GAAP,EAAY;MACZC,KAAK,CAACD,GAAG,CAACD,OAAL,CAAL;IACD;EACF,CAvBD;;EAyBA,MAAMG,SAAS,GAAIC,IAAD,IAAU;IAC1B,IAAIC,IAAI,GAAG3B,IAAI,CAAC4B,IAAL,CAAWC,IAAD,IAAUA,IAAI,CAACC,GAAL,KAAaJ,IAAI,CAACI,GAAtC,CAAX;;IAEA,IAAI,CAAC5B,UAAL,EAAiB;MACfsB,KAAK,CAAC,cAAD,CAAL;MACApB,QAAQ,CAAC,QAAD,CAAR;IACD,CAHD,MAGO;MACL,IAAIuB,IAAJ,EAAU;QACRA,IAAI,CAACI,QAAL,IAAiB,CAAjB;QACA5B,OAAO,CAAC,CAAC,GAAGH,IAAJ,CAAD,CAAP;MACD,CAHD,MAGO;QACL,IAAIA,IAAI,CAACgC,MAAL,GAAc,CAAd,GAAkB,CAAtB,EAAyB;UACvBR,KAAK,CAAC,mCAAD,CAAL;UACA;QACD;;QACDrB,OAAO,CAAC,CAAC,GAAGH,IAAJ,EAAU,EAAE,GAAG0B,IAAL;UAAWK,QAAQ,EAAE;QAArB,CAAV,CAAD,CAAP;MACD;IACF;EACF,CAlBD;;EAoBA,oBACE;IAAK,SAAS,EAAC,0BAAf;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAGE;MAAK,SAAS,EAAC,gBAAf;MAAA,UACG1B,aAAa,CAAC4B,GAAd,CAAmBP,IAAD,IAAU;QAC3B,oBACE;UAAoB,SAAS,EAAC,YAA9B;UAAA,wBACE;YAAA,WACG,GADH,eAEE;cAAK,SAAS,EAAC,SAAf;cAAwB,GAAG,EAAEA,IAAI,CAACQ,GAAlC;cAAuC,KAAK,EAAC,KAA7C;cAAmD,GAAG,EAAC;YAAvD;cAAA;cAAA;cAAA;YAAA,QAFF;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAKE;YAAA,UAAKR,IAAI,CAACS;UAAV;YAAA;YAAA;YAAA;UAAA,QALF,eAME;YAAA,UAAIT,IAAI,CAACU;UAAT;YAAA;YAAA;YAAA;UAAA,QANF,eAOE;YAAA,uBACE;cAAA,sBAAWV,IAAI,CAACW,KAAhB;YAAA;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QAPF,eAUE,QAAC,UAAD;YACE,KAAK,EAAE,CADT;YAEE,KAAK,EAAEX,IAAI,CAACY,MAFd;YAGE,IAAI,EAAE,EAHR;YAIE,MAAM,EAAE,IAJV;YAKE,WAAW,EAAC;UALd;YAAA;YAAA;YAAA;UAAA,QAVF,eAiBE;YAAA,uBACE;cAAQ,OAAO,EAAE,MAAMb,SAAS,CAACC,IAAD,CAAhC;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA,QAjBF;QAAA,GAAUA,IAAI,CAACI,GAAf;UAAA;UAAA;UAAA;QAAA,QADF;MAuBD,CAxBA;IADH;MAAA;MAAA;MAAA;IAAA,QAHF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAiCD;;GArFuB/B,wB;UAELF,W;;;KAFKE,wB"},"metadata":{},"sourceType":"module"}