{"ast":null,"code":"import _toConsumableArray from\"/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import\"./Contact.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Contact=function Contact(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),lastName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),image=_useState8[0],setImage=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),message=_useState10[0],setMessage=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),messages=_useState12[0],setMessages=_useState12[1];//================================\n// Function to fetch testimonies \n//================================\nuseEffect(function(){var fetchCustomerTestimonies=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(process.env.REACT_APP_SERVER_URL+\"/comments\");case 2:response=_context.sent;_context.next=5;return response.json();case 5:result=_context.sent;_context.prev=6;if(!response.ok){_context.next=11;break;}setMessages(result.data);_context.next=12;break;case 11:throw new Error(result.message);case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](6);console.log(_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[6,14]]);}));return function fetchCustomerTestimonies(){return _ref.apply(this,arguments);};}();fetchCustomerTestimonies();},[]);//================================\n// Update form input data \n//================================\nvar updateUserData=function updateUserData(event){switch(event.target.name){case\"firstName\":setFirstName(event.target.value);break;case\"lastName\":setLastName(event.target.value);break;case\"email\":setEmail(event.target.value);break;case\"image\":setImage(event.target.value);break;case\"message\":setMessage(event.target.value);break;default:break;}};//==========================================\n// Submit Customers Testimonies or Comments \n//==========================================\nvar submitUserComment=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){var settings,response,result;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();settings={method:\"POST\",body:new FormData(event.target)// formData, json data, graph ql => Data types\n};_context2.next=4;return fetch(process.env.REACT_APP_SERVER_URL+\"/comments\",settings);case 4:response=_context2.sent;_context2.next=7;return response.json();case 7:result=_context2.sent;_context2.prev=8;if(!result.success){_context2.next=18;break;}setMessages([].concat(_toConsumableArray(messages),[result.data]));// reset\nsetFirstName(\"\");setLastName(\"\");setEmail(\"\");setImage(\"\");setMessage(\"\");_context2.next=19;break;case 18:throw new Error(result.message);case 19:_context2.next=24;break;case 21:_context2.prev=21;_context2.t0=_context2[\"catch\"](8);alert(_context2.t0.message);case 24:case\"end\":return _context2.stop();}}},_callee2,null,[[8,21]]);}));return function submitUserComment(_x){return _ref2.apply(this,arguments);};}();//==========================================\n// JSX is placed below\n//==========================================\nreturn/*#__PURE__*/_jsxs(\"section\",{className:\"contact-page-container\",children:[/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"legend\",{children:\" We'd Love to Hear From You\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitUserComment,encType:\"multipart/form-data\",className:\"contact-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"label-and-input-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-container\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\" First Name \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"firstName\",name:\"firstName\",onChange:updateUserData,value:firstName})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"label-and-input-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-container\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\" Last Name \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"lastName\",name:\"lastName\",onChange:updateUserData,value:lastName})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"label-and-input-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-container\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\" Email Address \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",onChange:updateUserData,value:email})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"label-and-input-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"label-container\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file\",children:\" Attach Photo \"})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-container\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"file\",name:\"image\",onChange:updateUserData,value:image})})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{name:\"message\",cols:\"70\",rows:\"13\",onChange:updateUserData,value:message,placeholder:\"Please write your constructive comments here\"})})}),/*#__PURE__*/_jsx(\"button\",{children:\"Submit\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"customer-comments-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" Customer testimonies \"}),/*#__PURE__*/_jsx(\"div\",{className:\"customer-report-container\",children:messages.map(function(message){return/*#__PURE__*/_jsxs(\"div\",{className:\"specific-customer-comment-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"image\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:message.image,alt:\"Dishes\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"comment\",children:[\" \",message.message,\" \"]})]});})})]})]});};export default Contact;","map":{"version":3,"names":["React","useState","useEffect","Contact","firstName","setFirstName","lastName","setLastName","email","setEmail","image","setImage","message","setMessage","messages","setMessages","fetchCustomerTestimonies","fetch","process","env","REACT_APP_SERVER_URL","response","json","result","ok","data","Error","console","log","updateUserData","event","target","name","value","submitUserComment","preventDefault","settings","method","body","FormData","success","alert","map"],"sources":["/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/src/views/contactpage/Contact.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Contact.scss\";\n\nconst Contact = () => {\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n\n  //================================\n  // Function to fetch testimonies \n  //================================\n\n  useEffect(() => {\n    const fetchCustomerTestimonies = async () => {\n        const response = await fetch(process.env.REACT_APP_SERVER_URL + \"/comments\");\n        const result = await response.json();\n        try {\n          if(response.ok) {\n            setMessages(result.data);\n          } else {\n            throw new Error(result.message)\n          }\n        } catch (error) {\n        console.log(error);\n        }\n    };\n    fetchCustomerTestimonies();\n  } , []);\n\n  //================================\n  // Update form input data \n  //================================\n  const updateUserData = (event) => {\n    switch (event.target.name) {\n      case \"firstName\":\n        setFirstName(event.target.value);\n        break;\n      case \"lastName\":\n        setLastName(event.target.value);\n        break;\n      case \"email\":\n        setEmail(event.target.value);\n        break;\n      case \"image\":\n        setImage(event.target.value);\n        break;\n      case \"message\":\n        setMessage(event.target.value);\n        break;\n      default:\n        break;\n    }\n  };\n\n  //==========================================\n  // Submit Customers Testimonies or Comments \n  //==========================================\n  const submitUserComment = async (event) => {\n    event.preventDefault();\n\n    const settings = {\n      method: \"POST\",\n      body: new FormData(event.target) // formData, json data, graph ql => Data types\n    }\n\n    const response = await fetch(process.env.REACT_APP_SERVER_URL + \"/comments\", settings );\n    const result = await response.json();\n    try {\n      if (result.success) {\n        setMessages([...messages, result.data]);\n        // reset\n        setFirstName(\"\")\n        setLastName(\"\")\n        setEmail(\"\")\n        setImage(\"\")\n        setMessage(\"\")\n      } else {\n        throw new Error(result.message);\n      }\n    } catch (err) {\n      alert(err.message);\n    }\n  };\n\n  //==========================================\n  // JSX is placed below\n  //==========================================\n  return (\n    <section className=\"contact-page-container\">\n      <fieldset>\n        <legend> We'd Love to Hear From You</legend>\n\n        <form onSubmit={submitUserComment} encType=\"multipart/form-data\" className=\"contact-form\">\n          <div className=\"user-info\">\n            <div className=\"label-and-input-container\">\n              <div className=\"label-container\">\n                <label htmlFor=\"firstName\"> First Name </label>\n              </div>\n              <div className=\"input-container\">\n                <input\n                  type=\"text\"\n                  id=\"firstName\"\n                  name=\"firstName\"\n                  onChange={updateUserData}\n                  value={firstName}\n                />\n              </div>\n            </div>\n\n            <div className=\"label-and-input-container\">\n              <div className=\"label-container\">\n                <label htmlFor=\"lastName\"> Last Name </label>\n              </div>\n              <div className=\"input-container\">\n                <input\n                  type=\"text\"\n                  id=\"lastName\"\n                  name=\"lastName\"\n                  onChange={updateUserData}\n                  value={lastName}\n                />\n              </div>\n            </div>\n\n            <div className=\"label-and-input-container\">\n              <div className=\"label-container\">\n                <label htmlFor=\"email\"> Email Address </label>\n              </div>\n              <div className=\"input-container\">\n                <input\n                  type=\"email\"\n                  id=\"email\"\n                  name=\"email\"\n                  onChange={updateUserData}\n                  value={email}\n                />\n              </div>\n            </div>\n\n            <div className=\"label-and-input-container\">\n              <div className=\"label-container\">\n                <label htmlFor=\"file\"> Attach Photo </label>\n              </div>\n              <div className=\"input-container\">\n                <input\n                  type=\"file\"\n                  id=\"file\"\n                  name=\"image\"\n                  onChange={updateUserData}\n                  value={image}\n                />\n              </div>\n            </div>\n          </div>\n\n          <div>\n            <div>\n              <textarea\n                name=\"message\"\n                cols=\"70\"\n                rows=\"13\"\n                onChange={updateUserData}\n                value={message}\n                placeholder=\"Please write your constructive comments here\"\n              />\n            </div>\n          </div>\n          <button>Submit</button>\n        </form>\n        \n      </fieldset>\n\n      {/* Customers Testimonies or Comments Section */}\n      \n      <section className=\"customer-comments-container\">\n      <h2> Customer testimonies </h2>\n        <div className=\"customer-report-container\">\n          {\n            messages.map(message => {\n                return (\n                    <div className=\"specific-customer-comment-container\">\n                    <div className=\"image\"> <img src={message.image} alt=\"Dishes\" /></div>\n                  {/* <div className=\"image\"> <iframe src={message.image} frameborder=\"0\" width=\"900\" height=\"1200\"></iframe> </div> */}\n                    <p className=\"comment\"> {message.message} </p>\n                </div> \n                )\n            })\n          }\n        </div>\n      </section>\n    </section>\n  );\n};\n\nexport default Contact;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}