{"ast":null,"code":"import _regeneratorRuntime from\"/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext}from'react';import{MyContext}from\"../App.js\";import{jsx as _jsx}from\"react/jsx-runtime\";var TotalOrder=function TotalOrder(){var _useContext=useContext(MyContext),user=_useContext.user,token=_useContext.token;var showAllOrderedCount=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var settings,response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:settings={headers:{\"Authorization\":\"Bearer \"+token}};_context.next=3;return fetch(process.env.REACT_APP_SERVER_URL+\"/admin/\".concat(user.id,\"/count\"),settings);case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;_context.prev=7;if(!response.ok){_context.next=12;break;}alert(\"The total number of order is \".concat(result.count,\".\"));_context.next=13;break;case 12:throw new Error(result.message);case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](7);alert(result.message);case 18:case\"end\":return _context.stop();}}},_callee,null,[[7,15]]);}));return function showAllOrderedCount(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:showAllOrderedCount,children:\"Total Oder\"});};export default TotalOrder;","map":{"version":3,"names":["React","useContext","MyContext","TotalOrder","user","token","showAllOrderedCount","settings","headers","fetch","process","env","REACT_APP_SERVER_URL","id","response","json","result","ok","alert","count","Error","message"],"sources":["/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/src/components/TotalOrder.js"],"sourcesContent":["import React, {useContext} from 'react';\nimport  { MyContext }  from \"../App.js\";\n\nconst TotalOrder = () => {\n    const { user, token } = useContext(MyContext);\n    const showAllOrderedCount = async () => {\n      \n      const settings = {\n        headers: {\n            \"Authorization\": \"Bearer \" + token\n        }\n      };\n  \n      const response = await fetch(process.env.REACT_APP_SERVER_URL + `/admin/${user.id}/count`, settings);\n      const result = await response.json();\n  \n      try {\n        if (response.ok) {\n          alert(`The total number of order is ${result.count}.`);\n        } else {\n          throw new Error(result.message);\n        }\n      } catch {\n        alert(result.message);\n      }\n    };\n  \n    return (\n      <button className=\"logout-btn\" onClick={showAllOrderedCount}>\n        Total Oder\n      </button>\n    );\n  };\n  \n  export default TotalOrder;\n  "],"mappings":"0TAAA,MAAOA,MAAP,EAAeC,UAAf,KAAgC,OAAhC,CACA,OAAUC,SAAV,KAA4B,WAA5B,C,2CAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACrB,gBAAwBF,UAAU,CAACC,SAAD,CAAlC,CAAQE,IAAR,aAAQA,IAAR,CAAcC,KAAd,aAAcA,KAAd,CACA,GAAMC,oBAAmB,4FAAG,kKAEpBC,QAFoB,CAET,CACfC,OAAO,CAAE,CACL,gBAAiB,UAAYH,KADxB,CADM,CAFS,uBAQHI,MAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,oBAAZ,kBAA6CR,IAAI,CAACS,EAAlD,UAAD,CAA+DN,QAA/D,CARF,QAQpBO,QARoB,qCASLA,SAAQ,CAACC,IAAT,EATK,QASpBC,MAToB,mCAYpBF,QAAQ,CAACG,EAZW,0BAatBC,KAAK,wCAAiCF,MAAM,CAACG,KAAxC,MAAL,CAbsB,oCAehB,IAAIC,MAAJ,CAAUJ,MAAM,CAACK,OAAjB,CAfgB,0FAkBxBH,KAAK,CAACF,MAAM,CAACK,OAAR,CAAL,CAlBwB,qEAAH,kBAAnBf,oBAAmB,0CAAzB,CAsBA,mBACE,eAAQ,SAAS,CAAC,YAAlB,CAA+B,OAAO,CAAEA,mBAAxC,wBADF,CAKD,CA7BH,CA+BE,cAAeH,WAAf"},"metadata":{},"sourceType":"module"}