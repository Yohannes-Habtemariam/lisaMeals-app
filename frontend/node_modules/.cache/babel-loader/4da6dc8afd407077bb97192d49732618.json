{"ast":null,"code":"var _jsxFileName = \"/home/user/Desktop/myProjects/online-app/online-shopping-app/frontend/src/views/registerpage/RegisterPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useContext } from \"react\";\nimport { MyContext } from \"../../App\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./registerPage.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = props => {\n  _s();\n\n  const {\n    setUser,\n    token\n  } = useContext(MyContext);\n  let navigate = useNavigate();\n  const [userData, setUserdata] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    phone: \"\",\n    street: \"\",\n    houseNo: \"\",\n    zipCode: \"\",\n    city: \"\"\n  });\n  const {\n    firstName,\n    lastName,\n    email,\n    password,\n    confirmPassword,\n    phone,\n    street,\n    houseNo,\n    zipCode,\n    city\n  } = userData;\n\n  const updateData = event => {\n    setUserdata({ ...userData,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const registerUser = async event => {\n    event.preventDefault();\n    const settings = {\n      method: \"POST\",\n      body: JSON.stringify(userData),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + token\n      }\n    };\n    console.log(process.env.REACT_APP_SERVER_URL);\n    const response = await fetch(process.env.REACT_APP_SERVER_URL + \"/register\", settings);\n    const parsedRes = await response.json();\n\n    try {\n      if (response.ok) {\n        // Dealing with token expiry \n        const now = new Date();\n        const tokenExpiry = new Date(now.getTime() + 1000 * 60 * 60);\n        localStorage.setItem(\"data\", JSON.stringify({\n          token: parsedRes.token,\n          id: parsedRes.id,\n          expiry: tokenExpiry.toISOString()\n        })); // if the response is okay, send data to backend\n\n        setUser(parsedRes.token, parsedRes.id);\n        navigate(\"/login\");\n      } else {\n        throw new Error(parsedRes.message);\n      }\n    } catch (err) {\n      alert(err.message);\n    }\n  }; // const updateShowLogin = () =>\n  // {\n  //   props.setShowLogin( true );\n  // };\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"registerPage\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"formContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"New users get 50% off!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign-up for a free account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: registerUser,\n        className: \"registerForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputLeft\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Contact information:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"firstName\",\n            onChange: updateData,\n            value: firstName,\n            placeholder: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"lastName\",\n            onChange: updateData,\n            value: lastName,\n            placeholder: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            onChange: updateData,\n            value: email,\n            placeholder: \"Email address\",\n            type: \"email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            onChange: updateData,\n            value: password,\n            placeholder: \"Create Password\",\n            type: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"confirmPassword\",\n            onChange: updateData,\n            value: confirmPassword,\n            placeholder: \"Confirm Password\",\n            type: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"phone\",\n            onChange: updateData,\n            value: phone,\n            placeholder: \"Phone Number\",\n            type: \"tel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inputRight\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Address:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"street\",\n            onChange: updateData,\n            value: street,\n            placeholder: \"Street\",\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"houseNo\",\n            onChange: updateData,\n            value: houseNo,\n            placeholder: \"House No.\",\n            text: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"zipCode\",\n            onChange: updateData,\n            value: zipCode,\n            placeholder: \"Zip Code\",\n            type: \"number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"city\",\n            onChange: updateData,\n            value: city,\n            placeholder: \"City\",\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"Register feButton\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"65uYFt3qYNOxR8z8VoVS6dADhUA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useContext","MyContext","useNavigate","Register","props","setUser","token","navigate","userData","setUserdata","firstName","lastName","email","password","confirmPassword","phone","street","houseNo","zipCode","city","updateData","event","target","name","value","registerUser","preventDefault","settings","method","body","JSON","stringify","headers","console","log","process","env","REACT_APP_SERVER_URL","response","fetch","parsedRes","json","ok","now","Date","tokenExpiry","getTime","localStorage","setItem","id","expiry","toISOString","Error","message","err","alert"],"sources":["/home/user/Desktop/myProjects/online-app/online-shopping-app/frontend/src/views/registerpage/RegisterPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useContext } from \"react\";\nimport { MyContext } from \"../../App\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./registerPage.scss\";\n\nconst Register = (props) => {\n  const { setUser, token } = useContext(MyContext);\n  let navigate = useNavigate();\n\n  const [userData, setUserdata] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    phone:\"\",\n    street: \"\",\n    houseNo: \"\",\n    zipCode: \"\",\n    city: \"\",\n  });\n\n  const {\n    firstName,\n    lastName,\n    email,\n    password,\n    confirmPassword,\n    phone,\n    street,\n    houseNo,\n    zipCode,\n    city,\n  } = userData;\n\n  const updateData = (event) => {\n    setUserdata({ ...userData, [event.target.name]: event.target.value });\n  };\n\n  const registerUser = async (event) => {\n    event.preventDefault();\n\n    const settings = {\n      method: \"POST\",\n      body: JSON.stringify(userData),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": \"Bearer \" + token\n\n      },\n    };\n    console.log(process.env.REACT_APP_SERVER_URL);\n    const response = await fetch(\n      process.env.REACT_APP_SERVER_URL + \"/register\",\n      settings\n    );\n    const parsedRes = await response.json();\n    try {\n      if (response.ok) {\n        // Dealing with token expiry \n        const now = new Date();\n        const tokenExpiry = new Date(now.getTime() + 1000 * 60 * 60); \n        localStorage.setItem(\"data\", JSON.stringify({token: parsedRes.token, id: parsedRes.id, expiry: tokenExpiry.toISOString()}));\n        // if the response is okay, send data to backend\n        setUser(parsedRes.token, parsedRes.id)\n        navigate(\"/login\");\n      } else {\n        throw new Error(parsedRes.message);\n      }\n    } catch (err) {\n      alert(err.message);\n    }\n  };\n  // const updateShowLogin = () =>\n  // {\n  //   props.setShowLogin( true );\n  // };\n\n  return (\n    <div className=\"registerPage\">\n      <div className=\"formContainer\">\n        <h1>New users get 50% off!</h1>\n        <h2>Sign-up for a free account</h2>\n        <form onSubmit={registerUser} className={\"registerForm\"}>\n          <div className=\"inputLeft\">\n            <label>Contact information:</label>\n\n            <input\n              name=\"firstName\"\n              onChange={updateData}\n              value={firstName}\n              placeholder={\"First Name\"}\n            />\n            <input\n              name=\"lastName\"\n              onChange={updateData}\n              value={lastName}\n              placeholder={\"Last Name\"}\n            />\n\n            <input\n              name=\"email\"\n              onChange={updateData}\n              value={email}\n              placeholder={\"Email address\"}\n              type={\"email\"}\n            />\n            <input\n              name=\"password\"\n              onChange={updateData}\n              value={password}\n              placeholder={\"Create Password\"}\n              type={\"password\"}\n            />\n            {/* to check the match Create Password and Confirm password */}\n            <input\n              name=\"confirmPassword\"\n              onChange={updateData}\n              value={confirmPassword}\n              placeholder={\"Confirm Password\"}\n              type={\"password\"}\n            />\n            <input\n              name=\"phone\"\n              onChange={updateData}\n              value={phone}\n              placeholder={\"Phone Number\"}\n              type={\"tel\"}\n            />\n          </div>\n\n          <div className=\"inputRight\">\n            <label>Address:</label>\n            <input\n              name=\"street\"\n              onChange={updateData}\n              value={street}\n              placeholder={\"Street\"}\n              type={\"text\"}\n            />\n            <input\n              name=\"houseNo\"\n              onChange={updateData}\n              value={houseNo}\n              placeholder={\"House No.\"}\n            text={\"text\"}\n            />\n            <input\n              name=\"zipCode\"\n              onChange={updateData}\n              value={zipCode}\n              placeholder={\"Zip Code\"}\n              type={\"number\"}\n\n            />\n            <input\n              name=\"city\"\n              onChange={updateData}\n              value={city}\n              placeholder={\"City\"}\n              type={\"text\"}\n\n            />\n            <button className=\"Register feButton\">Register</button>\n          </div>\n        </form>\n        {/* <button onClick={ updateShowLogin }>Already registered? Log in to your account!</button> */}\n      </div>\n\n      {/* <div className=\"goToRegisterSection\">\n    <h1>New Users get 50% off !</h1>\n\n    </div> */}\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}