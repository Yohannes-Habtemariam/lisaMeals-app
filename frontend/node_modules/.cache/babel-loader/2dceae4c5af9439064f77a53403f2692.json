{"ast":null,"code":"import _regeneratorRuntime from\"/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useContext}from'react';import{MyContext}from\"../App.js\";import{jsx as _jsx}from\"react/jsx-runtime\";var TotalOrderPerCustomer=function TotalOrderPerCustomer(){var _useContext=useContext(MyContext),user=_useContext.user,token=_useContext.token;var showAllOrderedCountPerUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var settings,response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:settings={headers:{\"Authorization\":\"Bearer \"+token}};_context.next=3;return fetch(process.env.REACT_APP_SERVER_URL+\"/admin/\".concat(user.id,\"/count\"),settings);case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;_context.prev=7;if(!response.ok){_context.next=12;break;}alert(\"The total number of order per user is \".concat(result.count,\".\"));_context.next=13;break;case 12:throw new Error(result.message);case 13:_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](7);alert(result.message);case 18:case\"end\":return _context.stop();}}},_callee,null,[[7,15]]);}));return function showAllOrderedCountPerUser(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"button\",{className:\"admin-button\",onClick:showAllOrderedCountPerUser,children:\"Total Oder Per Customer\"});};export default TotalOrderPerCustomer;","map":{"version":3,"names":["React","useContext","MyContext","TotalOrderPerCustomer","user","token","showAllOrderedCountPerUser","settings","headers","fetch","process","env","REACT_APP_SERVER_URL","id","response","json","result","ok","alert","count","Error","message"],"sources":["/home/user/Desktop/myProjects/lisa-supermarket-website/frontend/src/components/TotalOrderPerCustomer.js"],"sourcesContent":["import React, {useContext} from 'react';\nimport  { MyContext }  from \"../App.js\";\n\nconst TotalOrderPerCustomer = () => {\n    const { user, token } = useContext(MyContext);\n    const showAllOrderedCountPerUser = async () => {\n      \n      const settings = {\n        headers: {\n            \"Authorization\": \"Bearer \" + token\n        }\n      };\n  \n      const response = await fetch(process.env.REACT_APP_SERVER_URL + `/admin/${user.id}/count`, settings);\n      const result = await response.json();\n  \n      try {\n        if (response.ok) {\n          alert(`The total number of order per user is ${result.count}.`);\n        } else {\n          throw new Error(result.message);\n        }\n      } catch {\n        alert(result.message);\n      }\n    };\n  \n    return (\n      <button className=\"admin-button\" onClick={showAllOrderedCountPerUser}>\n        Total Oder Per Customer\n      </button>\n    );\n  };\n  \n  export default TotalOrderPerCustomer;\n  "],"mappings":"0TAAA,MAAOA,MAAP,EAAeC,UAAf,KAAgC,OAAhC,CACA,OAAUC,SAAV,KAA4B,WAA5B,C,2CAEA,GAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,EAAM,CAChC,gBAAwBF,UAAU,CAACC,SAAD,CAAlC,CAAQE,IAAR,aAAQA,IAAR,CAAcC,KAAd,aAAcA,KAAd,CACA,GAAMC,2BAA0B,4FAAG,kKAE3BC,QAF2B,CAEhB,CACfC,OAAO,CAAE,CACL,gBAAiB,UAAYH,KADxB,CADM,CAFgB,uBAQVI,MAAK,CAACC,OAAO,CAACC,GAAR,CAAYC,oBAAZ,kBAA6CR,IAAI,CAACS,EAAlD,UAAD,CAA+DN,QAA/D,CARK,QAQ3BO,QAR2B,qCASZA,SAAQ,CAACC,IAAT,EATY,QAS3BC,MAT2B,mCAY3BF,QAAQ,CAACG,EAZkB,0BAa7BC,KAAK,iDAA0CF,MAAM,CAACG,KAAjD,MAAL,CAb6B,oCAevB,IAAIC,MAAJ,CAAUJ,MAAM,CAACK,OAAjB,CAfuB,0FAkB/BH,KAAK,CAACF,MAAM,CAACK,OAAR,CAAL,CAlB+B,qEAAH,kBAA1Bf,2BAA0B,0CAAhC,CAsBA,mBACE,eAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAEA,0BAA1C,qCADF,CAKD,CA7BH,CA+BE,cAAeH,sBAAf"},"metadata":{},"sourceType":"module"}